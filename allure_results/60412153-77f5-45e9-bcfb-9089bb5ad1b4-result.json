{"name": "Ошибка при отсутствии обязательного поля при логине: password", "status": "skipped", "statusDetails": {"message": "XFAIL Бага в документации: при отсутствии обязательногополя API возвращает 504 вместо 400\n\n_pytest.outcomes.XFailed: Бага в документации: при отсутствии обязательногополя API возвращает 504 вместо 400", "trace": "self = <test_courier_login.TestCourierLogin object at 0x103a278b0>, missing_field = 'password'\n\n    @allure.story(\"Login courier\")\n    @pytest.mark.parametrize(\"missing_field\", [\"login\", \"password\"])\n    def test_login_missing_required_field_returns_error(self, missing_field):\n        allure.dynamic.title(f\"Ошибка при отсутствии обязательного поля при логине: {missing_field}\")\n        payload = generate_courier_data()\n        payload.pop(\"firstName\", None)  # для логина не нужен\n        payload.pop(missing_field)\n        with allure.step(f\"Отправляем запрос логина без поля {missing_field}\"):\n            resp = login_courier_with_payload(payload)\n        with allure.step(\"Проверяем 400 и сообщение об ошибке\"):\n            if resp.status_code == 504:\n>               pytest.xfail(\"Бага в документации: при отсутствии обязательногополя API возвращает 504 вместо 400\")\nE               _pytest.outcomes.XFailed: Бага в документации: при отсутствии обязательногополя API возвращает 504 вместо 400\n\ntests/test_courier_login.py:34: XFailed"}, "steps": [{"name": "Отправляем запрос логина без поля password", "status": "passed", "start": 1760894693499, "stop": 1760894753670}, {"name": "Проверяем 400 и сообщение об ошибке", "status": "failed", "statusDetails": {"message": "_pytest.outcomes.XFailed: Бага в документации: при отсутствии обязательногополя API возвращает 504 вместо 400\n", "trace": "  File \"/Users/chagay_ea/pyproj/Sprint_7/tests/test_courier_login.py\", line 34, in test_login_missing_required_field_returns_error\n    pytest.xfail(\"Бага в документации: при отсутствии обязательногополя API возвращает 504 вместо 400\")\n  File \"/Users/chagay_ea/pyproj/.venv/lib/python3.10/site-packages/_pytest/outcomes.py\", line 205, in xfail\n    raise XFailed(reason)\n"}, "start": 1760894753670, "stop": 1760894753670}], "parameters": [{"name": "missing_field", "value": "'password'"}], "start": 1760894693499, "stop": 1760894753671, "uuid": "3c77a3ae-7c0e-41b0-ab65-e20b3bd84d25", "historyId": "b6ee8896119bbe1a3a6f26a6883f0295", "testCaseId": "822997187600c9eb5bcddf563614034c", "fullName": "tests.test_courier_login.TestCourierLogin#test_login_missing_required_field_returns_error", "labels": [{"name": "feature", "value": "Courier"}, {"name": "epic", "value": "Scooter API"}, {"name": "story", "value": "Login courier"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_courier_login"}, {"name": "subSuite", "value": "TestCourierLogin"}, {"name": "host", "value": "m00office0012.local"}, {"name": "thread", "value": "83094-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_courier_login"}], "titlePath": ["tests", "test_courier_login.py", "TestCourierLogin"]}